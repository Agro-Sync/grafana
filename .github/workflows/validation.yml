name: Code validation

on:
  pull_request:
    branches:
      - main

jobs:
  validacao-codigo:
      name: ValidaÃ§Ã£o de cÃ³digo
      runs-on: ubuntu-latest

      steps:
        - name: Checkout the code
          uses: actions/checkout@v3

        - name: Setup Python e instalar dependÃªncias com uv
          run: |
            python -m pip install --upgrade uv
            uv sync

        - name: Rodar PEP8 (pycodestyle)
          run: |
            echo "ðŸš€ Rodando checagem PEP8 (pycodestyle) â€” ignorando E501 (linhas longas)..."
            # ignora a regra E501 (line too long)
            pycodestyle . --ignore=E501 --exclude=.venv,venv,env || true